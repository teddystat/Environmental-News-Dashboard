
<!DOCTYPE html>
<html lang="en">
<head><script type='text/javascript' src='https://ppl-ai-code-interpreter-files.s3.amazonaws.com/JYGzmzgTItEmTq4ig0nEOucOS1CTQ6YwFjqwb-GbBW1for_zjO4gT1PF-P4UjzRmVe7qw0nadbdPColc_A9sZU9aaL76aFDLl72LzqETtWRp5bSO2KURYSnImKV1Nwi_vI4vvPUe6KXgjFopX1mFHn_-XIR94UX76ZyTXF4hNOsetXe20LWlAlYbCOO9cZ3F5KCl8ZyOtadY4oFdnnOQVFCUKMYRRpdfqBs_zAjGS-XtEWyPFxe_X4BWTKtQCM8oJEap-36ZXC7LYikWUI0svpqKqV7LZhiq33cMW9JoATyr0jvVD4fnOCe5lix8JwMiZMk089Ba08ntEP1JmXHNKQ6Y4zjNru34W-4lqv75mhghYrMXiNlzwybeYlcgmGRYcMtGOYUdavgUro8ByjnzYzpi0ZxiJdZf4eM8si06O4HIzrwYCSQ3HR8WLrU_pTaDGfapwpWubWRvHc_z8xdGqXKaQhkI2FfU5pE-Cu7luRmST6tuLh6a7JnE4yKXADhOlbbw3VfD7dxOUG4Je-IzSNlu8iSoUQ_H5aLbEUaWL9BqwQxGeJbN7cRWfof2adCHPq-_8oyZkK16x4LK4CAt8TySaHC-bE2Tgnsw4kXN2FyYqcd6ihXv9T2XhYqPqWYhLfbuqDmHePgbx84Ls4HFWr-sRj2WXWi4rM_o3F5GALbMqhVW0BXDjBjXNkpSMGJsta57LLY0i1vu9KtzPbx3SsrczN65B-P6tdnm_7l1eRV6nYgW75j4uG-LMQ1G475HS06-KuZ5OfdkJI8riBM7taSYdY4dvkrIBPFm1RflXFzwg5vNrFsb7NzBow1msOn-fyqJ_hL5bqw7Uo7S7ZkQ3PpcXnzkoG_2fwFYrCvK34zb1S9_uhXkvKabPV_gAc_jQK_O275qK28hKM0b5U4lnkzux0rgv3Mv-BhHm36HuVSoydZlUEguK_Og_xJ_hQiPouxPEaanj8vsvD2_MAId-pJzk-qFOHlQxGOLmodh3oYaht6fUO3nUjeYpU8MpFpth63W4-rM-J2p5ahW8ldXdUdlEO-3iUa0mAwnIvq4WO7pSJDfyq9DeGpUniUNPw3ddynH3JuLNPnQoFMfci_HsQJUfr9iMtcdUCLyuXAqGAInovO6Xy1dp4_jr5GylpwvImjv_f7fUb3Zlyz9BmP-9K2yO5XvXfOUXpBpD1dES8zLIW95G8gcn18Mj2K0fLmN7qErjrhGYh00r9JfRrO-g2gfIYI--_pJD_uTtK-UfGD_QEMhTP-C8rRhxccqAbs-dc0hivwOOAuc_BYJ-qjEaXIOecQ1LWXIkZh0PhPCBG-OtmWWj8EuU1VggxFqfognJCafgpP5WzNIVU2DYwDSTdcSDaJJpe3W_25fxKNIkPv4p77sQV-4zdoweBEYK78rA9t-5p-YW3iTWXVKu2yG2OQbQUvVFRYNo7oWjg1PZ7eThVRcfHrWqp63BjGBeh-lkM8Lp2kamxNdQkTr35rVU71L3H9nD-cObnVr4bgexFMnQaxk93Tnm_e3pee56OfsNazGXcFc8kCBggdRmdBtjJW9kN3yfWgTea5ccGCtReyjkpcUQwKWIDnSw4tP-wEQmsR6pCUJv3Hp0KOT1l_X9AF71iTu-mN5z-Tf5Y8JEIfH6Vqaqf2mTBCYnK8f--qkOLJQ8Lw8PfX3lNN0aHB4nbhwwQeV825VOB8vA_jUZJvDBHtJBzzjvFq3b36CniphX21xhdtFociyeVkaoKpbL-DWL3kUQ6MH634SGuXfbf9r2cQfi1U78NZ0SA4E-aFBFSRYHY-SHV8JJ2rtvoaUS9LHO_e7xiAcPU3ZA5TcMcm1NUwX59WgP5Hi6xGRXOq5DNFYcCoutqGNR1rVX8d4LqWmqC9ow730kJEsUbMVmSOWWkm-xywRCVnSyNipzykjJk1qtRWWvOEPZ7ApDgwG5bbwlM2Ut6Bhtg5U5KNxk9UNS4bYreYYXLAVqqO2hgiJeGQ86H8yd6f9VUn5ljhId8IjmLLpCkvOtIE35bB-rD-hlltwYquBMS3Hbd0ZAy3NSI_G19d40cTUdCh3LZXKYjMOhTlk6nVOi6_tuVCeIX8LC0cpz0swsFjKBqrt9k6GGpK6AsL4DDHBPkO2a9g2xfPYbWUv1_zLeIPI7oHBEIgelbJi4jq-1EkE7ntk1sNlenmgw2x5j2wGR1wphGXahTyhXqPk7D-QQch_lVEb1-njxMgJ3Q94-cPozttaBAXCzQS1zXcOffZMJH8RwZ4-47QcuWZ6BsCLVnpyHatr84tRZroHoaahK7j735fB-oy40Ix1Uy5yhho9wv1HYL1k_mWbOyiN7VSLu0Tdjcr8SdVgYTqv6mthC2Bjiq4EfexAn1UR-ZuVU1ufXeoNEsOAel_yaPR0LOKC-3nCxPkQb5xFRIQ8-JUI_YRXWnXn0TSmkK1rwSjNTVJWwXKF-8XGhZZQjUgA-LJOvIPZaOus9kI0QSOYNDuu0dUrUJR186qWh5sV0XwbXmpw0Ae-kfh4yHyNppMPD-rllZ6pZ-kcS1GEzB6yjxWSLG0QUJG2WkhRoXmVKRAxrJ__VZRsvTdQikW_bVN3vDkvj_ND--3f_JcbX9zjFo8-pXmGDZtpVxeV_ukV6mO2qdZJp122skmlOKvuSN7pe0RuIR6Az85C9WhBzcC_2uD7k5U8-pLR3EaxFOvSsmSMsC1J18jy89ENClQMr8PIlSl2_2b5ig'></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environmental News Dashboard</title>
    <style>
        :root {
            --color-bg-primary: #f1f8f4;
            --color-bg-secondary: #e8f5e9;
            --color-bg-card: #c8e6c9;
            --color-text-primary: #000000;
            --color-text-secondary: #333333;
            --color-accent: #2e7d32;
            --color-accent-hover: #1b5e20;
            --color-border: #81c784;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--color-bg-primary);
            color: var(--color-text-primary);
            overflow-x: hidden;
        }

        /* Breaking News Ticker */
        .ticker-container {
            background: var(--color-accent);
            color: white;
            padding: 15px 0;
            overflow: hidden;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .ticker-wrapper {
            display: flex;
            align-items: center;
        }

        .ticker-label {
            background: #059669;
            padding: 8px 20px;
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .ticker-content {
            display: flex;
            animation: scroll 60s linear infinite;
            white-space: nowrap;
        }

        .ticker-item {
            display: inline-flex;
            align-items: center;
            margin-right: 80px;
            font-size: 15px;
            font-weight: 500;
        }

        .ticker-item::before {
            content: "‚óè";
            margin-right: 15px;
            color: rgba(255, 255, 255, 0.6);
        }

        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .ticker-content {
            animation-duration: 192s;
        }

        /* Header */
        .header {
            padding: 30px 20px;
            text-align: center;
            background: var(--color-bg-secondary);
            border-bottom: 3px solid var(--color-accent);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--color-accent);
        }

        .header p {
            color: var(--color-text-secondary);
            font-size: 1.1rem;
        }

        .update-info {
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        /* Feed Grid - Modern Masonry Layout */
        .feeds-container {
            column-count: 3;
            column-gap: 25px;
            padding: 30px 20px;
            max-width: 1800px;
            margin: 0 auto;
        }

        .feed-box {
            background: #ffffff;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: inline-block;
            width: 100%;
            margin-bottom: 25px;
            break-inside: avoid;
            border: 1px solid var(--color-border);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .feed-box:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(46, 125, 50, 0.3);
            border-color: var(--color-accent);
        }

        .feed-box.featured {
            border: 2px solid var(--color-accent);
            background: #ffffff;
        }

        .feed-header {
            background: var(--color-bg-card);
            padding: 20px;
            border-bottom: 2px solid var(--color-accent);
        }

        .feed-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--color-accent);
        }

        .feed-url {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
            text-decoration: none;
            word-break: break-all;
        }

        .feed-content {
            max-height: 450px;
            overflow-y: auto;
            padding: 20px;
        }

        .feed-box.compact .feed-content {
            max-height: 300px;
        }

        .feed-box.expanded .feed-content {
            max-height: 600px;
        }

        .feed-content::-webkit-scrollbar {
            width: 8px;
        }

        .feed-content::-webkit-scrollbar-track {
            background: var(--color-bg-primary);
        }

        .feed-content::-webkit-scrollbar-thumb {
            background: var(--color-accent);
            border-radius: 4px;
        }

        .article {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--color-border);
        }

        .article:last-child {
            border-bottom: none;
        }

        .article-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .article-title a {
            color: var(--color-text-primary);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .article-title a:hover {
            color: var(--color-accent);
        }

        .article-meta {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
            margin-bottom: 8px;
        }

        .article-description {
            font-size: 0.95rem;
            color: var(--color-text-secondary);
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: var(--color-text-secondary);
            font-size: 1.1rem;
        }

        .error {
            background: rgba(211, 47, 47, 0.1);
            border: 1px solid #c62828;
            color: #b71c1c;
            padding: 15px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        @media (max-width: 1200px) {
            .feeds-container {
                column-count: 2;
            }
        }

        @media (max-width: 768px) {
            .feeds-container {
                column-count: 1;
            }

            .feed-box {
                margin-bottom: 20px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .ticker-content {
                animation-duration: 96s;
            }
        }
    </style>
</head>
<body>

    <!-- Breaking News Ticker -->
    <div class="ticker-container">
        <div class="ticker-wrapper">
            <div class="ticker-label">LATEST NEWS</div>
            <div class="ticker-content" id="ticker">
                <div class="ticker-item">Loading latest headlines...</div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <div class="header">
        <h1>üåç Environmental News Dashboard</h1>
        <p>Real-time updates from trusted environmental news sources</p>
        <div class="update-info">
            Auto-refreshes every 2 hours | Last updated: <span id="lastUpdate">Loading...</span>
        </div>
    </div>

    <!-- Feed Grid -->
    <div class="feeds-container" id="feedsContainer"></div>

    <script>
        const RSS_FEEDS = [
            { name: 'Earth.Org', url: 'https://earth.org/feed/', category: 'Conservation', size: 'featured' },
            { name: 'The Guardian Environment', url: 'https://www.theguardian.com/uk/environment/rss', category: 'International', size: 'expanded' },
            { name: 'Bundesumweltministerium', url: 'https://www.bundesumweltministerium.de/meldungen.rss', category: 'Government', size: 'expanded' },
            { name: 'BMUV Klimaschutz', url: 'https://www.bundesumweltministerium.de/klimaschutz.rss', category: 'Climate Policy', size: 'compact' },
            { name: 'BMUV Naturschutz', url: 'https://www.bundesumweltministerium.de/natur.rss', category: 'Nature Protection', size: 'compact' },
            { name: 'Deutsche Welle Environment', url: 'https://rss.dw.com/xml/rss-en-environment', category: 'International', size: 'expanded' },
            { name: 'Tagesschau Umwelt', url: 'https://www.tagesschau.de/xml/rss2/', category: 'German News', size: 'compact' },
            { name: 'European Environment Agency', url: 'https://www.eea.europa.eu/en/newsroom/news/RSS', category: 'EU Policy', size: 'expanded' }
        ];

        let allArticles = [];

        function updateLastUpdateTime() {
            const now = new Date();
            document.getElementById('lastUpdate').textContent = now.toLocaleString('de-DE', {
                dateStyle: 'short',
                timeStyle: 'medium'
            });
        }

        async function fetchRSSFeed(feed) {
            try {
                const CORS_PROXY = 'https://api.allorigins.win/raw?url=';
                const response = await fetch(CORS_PROXY + encodeURIComponent(feed.url));
                const text = await response.text();
                const parser = new DOMParser();
                const xml = parser.parseFromString(text, 'text/xml');
                
                const items = xml.querySelectorAll('item, entry');
                const articles = [];

                items.forEach((item, index) => {
                    if (index < 15) {
                        const title = item.querySelector('title')?.textContent || 'No title';
                        const link = item.querySelector('link')?.textContent || 
                                   item.querySelector('link')?.getAttribute('href') || '#';
                        const description = item.querySelector('description, summary, content')?.textContent || '';
                        const pubDate = item.querySelector('pubDate, published, updated')?.textContent || '';

                        articles.push({
                            title: title.trim(),
                            link: link.trim(),
                            description: stripHtml(description).substring(0, 200) + '...',
                            pubDate: formatDate(pubDate),
                            feedName: feed.name
                        });
                    }
                });

                return articles;
            } catch (error) {
                console.error(`Error fetching ${feed.name}:`, error);
                return [];
            }
        }

        function stripHtml(html) {
            const tmp = document.createElement('div');
            tmp.innerHTML = html;
            return tmp.textContent || tmp.innerText || '';
        }

        function formatDate(dateString) {
            if (!dateString) return 'Recently';
            try {
                const date = new Date(dateString);
                const now = new Date();
                const diffMs = now - date;
                const diffMins = Math.floor(diffMs / 60000);
                const diffHours = Math.floor(diffMs / 3600000);
                const diffDays = Math.floor(diffMs / 86400000);

                if (diffMins < 60) return `${diffMins}m ago`;
                if (diffHours < 24) return `${diffHours}h ago`;
                if (diffDays < 7) return `${diffDays}d ago`;
                return date.toLocaleDateString('de-DE');
            } catch {
                return 'Recently';
            }
        }

        function renderFeedBox(feed, articles) {
            return `
                <div class="feed-box ${feed.size || ''}">
                    <div class="feed-header">
                        <div class="feed-title">${feed.name}</div>
                        <div class="feed-url">${feed.category}</div>
                    </div>
                    <div class="feed-content">
                        ${articles.length > 0 ? articles.map(article => `
                            <div class="article">
                                <div class="article-title">
                                    <a href="${article.link}" target="_blank" rel="noopener noreferrer">
                                        ${article.title}
                                    </a>
                                </div>
                                <div class="article-meta">${article.pubDate}</div>
                                <div class="article-description">${article.description}</div>
                            </div>
                        `).join('') : '<div class="loading">Loading articles...</div>'}
                    </div>
                </div>
            `;
        }

        function updateTicker() {
            const recentArticles = allArticles
                .sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate))
                .slice(0, 20);

            const tickerHTML = recentArticles.map(article => 
                `<div class="ticker-item">${article.feedName}: ${article.title}</div>`
            ).join('');

            document.getElementById('ticker').innerHTML = tickerHTML + tickerHTML;
        }

        async function loadAllFeeds() {
            const container = document.getElementById('feedsContainer');
            container.innerHTML = RSS_FEEDS.map(feed => 
                renderFeedBox(feed, [])
            ).join('');

            allArticles = [];

            for (let i = 0; i < RSS_FEEDS.length; i++) {
                const feed = RSS_FEEDS[i];
                const articles = await fetchRSSFeed(feed);
                allArticles.push(...articles);

                const feedBoxes = document.querySelectorAll('.feed-box');
                if (feedBoxes[i]) {
                    const content = feedBoxes[i].querySelector('.feed-content');
                    if (articles.length > 0) {
                        content.innerHTML = articles.map(article => `
                            <div class="article">
                                <div class="article-title">
                                    <a href="${article.link}" target="_blank" rel="noopener noreferrer">
                                        ${article.title}
                                    </a>
                                </div>
                                <div class="article-meta">${article.pubDate}</div>
                                <div class="article-description">${article.description}</div>
                            </div>
                        `).join('');
                    } else {
                        content.innerHTML = '<div class="error">Unable to load feed. The source may not provide RSS or has CORS restrictions.</div>';
                    }
                }
            }

            updateTicker();
            updateLastUpdateTime();
        }

        loadAllFeeds();
        setInterval(loadAllFeeds, 7200000);
    </script>

</body>
</html>